var t={d:(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(t,r)=>Object.prototype.hasOwnProperty.call(t,r)},r={};t.d(r,{IR:()=>l,y$:()=>p,T_:()=>b,gC:()=>_,hX:()=>v,rM:()=>P,Dp:()=>m,KJ:()=>w,UI:()=>d,Nl:()=>x,hL:()=>j,of:()=>N,Vl:()=>C,IH:()=>y,d_:()=>q,wt:()=>S,qn:()=>k,bw:()=>O,C4:()=>g});var e,n=function(){function t(t,r,e){this._value=t,this._flag=r,this._error=e}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),t.prototype.isUnwrapSwitch=function(){return this._flag===e.UnwrapSwitch},t.prototype.isMustStop=function(){return this._flag===e.MustStop},t.prototype.isFilterNotMatched=function(){return this._flag===e.FilterNotMatched},t.prototype.isOperationError=function(){return this._flag===e.OperationError},t}();function o(t){return"function"==typeof t}function i(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.filter((function(t){return o(t)}))}!function(t){t.UnwrapSwitch="UnwrapSwitch",t.MustStop="MustStop",t.FilterNotMatched="FilterNotMatched",t.OperationError="OperationError"}(e||(e={}));var u=function(){function t(t){this._unsubscribeCallback=t}return t.prototype.unsubscribe=function(){this._unsubscribeCallback&&this._unsubscribeCallback()},t}();function s(t){return!o(t)&&function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return r.some((function(r){return void 0!==t[r]&&null!==t[r]&&o(t[r])}))}(t,"next","error","complete")}function c(t,r,e){var n={next:t,error:r,complete:e};if(!s(n))throw new Error("Please provide functions for next, error and complete");return n}new u;var a,p=function(){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._subscribers=[],this._isComplete=!0,this._innerSequence=t.map((function(t){return new n(t)}))}return t.prototype.pipe=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];for(var i=new t,u=[],s=this._innerSequence,c=0,a=s.length;c<a&&!s[c].isMustStop();c++)try{var p=this._executeOperations(s[c].value,r);p.isFilterNotMatched()||u.push(p)}catch(t){u.push(new n(s[c].value,e.OperationError,t)),c=a}return i._innerSequence=u,i},t.prototype.subscribe=function(t){var r=this;if(!o(t)&&!s(t))throw new Error("Please provide either a function or a Subscriber");var e=s(t)?t:c(t);return this._subscribers.push(e),this.executeSubscriber(e,this._innerSequence),new u((function(){return r._subscribers=r._subscribers.filter((function(r){return r!==t}))}))},t.prototype.executeSubscriber=function(t,r){for(var e=function(e,o){var i=r[e];return i.isOperationError()?(n._error=i.error,(t.error||function(){throw i.error})(i.error),"break"):i.isFilterNotMatched()?"continue":i.isMustStop()?"break":void(t.next&&t.next(i.value))},n=this,o=0,i=r.length;o<i&&"break"!==e(o);o++);this._isComplete&&t.complete&&t.complete()},t.prototype._computeValue=function(t){for(var r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];for(var u=new n(t),s=0;s<o.length;s++)switch((u=o[s](u.value)).flag){case e.FilterNotMatched:case e.MustStop:s=o.length;break;case e.UnwrapSwitch:u=new n(null===(r=u.value._innerSequence.pop())||void 0===r?void 0:r.value)}return u},t.prototype._executeOperations=function(t,r){return this._computeValue.apply(this,function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t}([t],i.apply(void 0,r)))},t}(),f=(a=function(t,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])})(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=t}a(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),l=function(t){function r(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=t.apply(this,r)||this;return n._preProcessOperations=[],n._isComplete=!1,n}return f(r,t),r.prototype.close=function(){this._isComplete||(this._isComplete=!0,this._subscribers.forEach((function(t){t.complete&&t.complete()})))},r.prototype.compile=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this._isComplete)return this;var e=this._buildNewSequence(this._innerSequence.filter((function(t){return!t.isOperationError()})).map((function(t){return t.value})),t).filter((function(t){return!t.isMustStop()})),n=e.findIndex((function(t){return t.isOperationError()}));return n>-1?(this._innerSequence=e.slice(0,n),this.next.apply(this,this._innerSequence.map((function(t){return t.value}))),this._innerSequence.push(e[n]),this._triggerExecution([e[n]],this._subscribers),this):this.next.apply(this,(this._innerSequence=e).map((function(t){return t.value})))},r.prototype.next=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this._isComplete||(this._innerSequence=this._buildNewSequence(t,this._preProcessOperations),this._triggerExecution(this._innerSequence,this._subscribers)),this},r.prototype._buildNewSequence=function(t,r){for(var o=[],i=0,u=t.length;i<u;i++)try{var s=this._executeOperations(t[i],r);if(s.isMustStop()){o.push(s);break}s.isFilterNotMatched()||o.push(s)}catch(r){this._error=r,o.push(new n(t[i],e.OperationError,r)),i=u}return o},r.prototype._triggerExecution=function(t,r){var e=this;r.forEach((function(r){return e.executeSubscriber(r,t)}))},r}(p),h=function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])})(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),b=function(t){function r(r){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.call(this)||this;return o.sourceObs$=r,o.subscriptions=[],o.operators=[],o.operators=e,o._isComplete=r._isComplete,o.sourceObs$.subscribe({next:function(t){o._subscribers.forEach((function(r){if(r.next){var n=o._executeOperations(t,e);if(!n.isFilterNotMatched()&&!n.isMustStop())return r.next(n.value);n.isMustStop()&&o.close()}}))},error:function(t){o._error=t,o._subscribers.forEach((function(r){return r.error&&r.error(t)}))},complete:function(){o._isComplete=!0,o.unsubscribe(),o._subscribers.forEach((function(t){return t.complete&&t.complete()}))}}),o}return h(r,t),r.prototype.subscribe=function(t){var r=this;if(!o(t)&&!s(t))throw new Error("Please provide either a function or a Subscriber");var i=s(t)?t:c(t);this._subscribers.push(i);for(var a=[],p=this.sourceObs$._innerSequence,f=0,l=p.length;f<l;f++)try{a.push(this._executeOperations(p[f].value,this.operators))}catch(t){a.push(new n(p[f].value,e.OperationError,t)),f=l}return this.executeSubscriber(i,a),new u((function(){return r._subscribers=r._subscribers.filter((function(r){return r!==t}))}))},r.prototype.close=function(){this._subscribers.forEach((function(t){return t.complete&&t.complete()})),this.unsubscribe()},r.prototype.unsubscribe=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},r}(p),v=function(t){return function(r){return new n(r,t(r)?void 0:e.FilterNotMatched)}},_=function(t){var r=!1;return function(o){return new n(o,(r=r||v(t)(o).isFilterNotMatched())?e.MustStop:void 0)}},w=function(t,r,e){return function(n){var o=v(t)(n),i=o.isFilterNotMatched()?null!=e?e:[]:r,u=i.shift();return u?i.reduce((function(t,r){return r(t.value)}),u(n)):o}},y=function(t){var r=!1;return function(o){return r?new n(o,e.MustStop):!t||t(o)?(r=!0,new n(o)):new n(o,e.FilterNotMatched)}},g=function(t){var r=!1;return function(o){return new n(o,(r=r||!v(t)(o).isFilterNotMatched())?e.MustStop:void 0)}},d=function(t){return function(r){return new n(t(r))}};function S(t){return function(r){return new n(t(r),e.UnwrapSwitch)}}var O=function(t){return function(r){return t(r),new n(r)}},m=function(t){return new(p.bind.apply(p,function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t}([void 0],t)))},M=function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t},x=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new(l.bind.apply(l,M([void 0],t)))},E=function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t},N=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new(p.bind.apply(p,E([void 0],t)))},C=function(t,r){var e=new l;return t.addEventListener(r,(function(t){return e.next(t)})),e};function q(){for(var t,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=new l;return(t=n._preProcessOperations).push.apply(t,r),n}var F=function(t,r){for(var e=0,n=r.length,o=t.length;e<n;e++,o++)t[o]=r[e];return t},P=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=new(b.bind.apply(b,F([void 0,t],r)));return n},j=function(t){var r=0;return function(o){return++r===t?new n(o):new n(o,r<t?e.FilterNotMatched:e.MustStop)}},k=function(t){var r=0;return function(o){return++r>t?new n(o,e.MustStop):new n(o)}},U=r.IR,I=r.y$,$=r.T_,L=r.gC,T=r.hX,V=r.rM,A=r.Dp,D=r.KJ,H=r.UI,J=r.Nl,K=r.hL,R=r.of,X=r.Vl,z=r.IH,B=r.d_,G=r.wt,Q=r.qn,W=r.bw,Y=r.C4;export{U as MutableObservable,I as Observable,$ as ObservableFork,L as asLongAs,T as filter,V as fork,A as from,D as ifElse,H as map,J as mutable,K as nth,R as of,X as onEvent,z as once,B as preProcess,G as switchMap,Q as take,W as tap,Y as until};