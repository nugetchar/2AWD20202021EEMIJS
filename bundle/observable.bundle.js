var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function r(t){return"function"==typeof t}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return r(t)}))}t.d(e,{IR:()=>f,y$:()=>a,gC:()=>_,hX:()=>l,UI:()=>b,wt:()=>y,C4:()=>v});var o,i=function(t,e,r){var n=this;this.elem=t,this.eventType=e,this.listener=r,this.unsubscribe=function(){n.elem.removeEventListener(n.eventType,n.listener)}},u=function(){function t(t,e){this._value=t,this._flag=e}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!1,configurable:!0}),t.prototype.isUnwrapSwitch=function(){return this._flag===o.UnwrapSwitch},t.prototype.isMustStop=function(){return this._flag===o.MustStop},t.prototype.isFilterNotMatched=function(){return this._flag===o.FilterNotMatched},t}();!function(t){t[t.UnwrapSwitch=0]="UnwrapSwitch",t[t.MustStop=1]="MustStop",t[t.FilterNotMatched=2]="FilterNotMatched"}(o||(o={}));var s=function(){function t(t){this._unsubscribeCallback=t}return t.prototype.unsubscribe=function(){this._unsubscribeCallback()},t}();function c(t){return r(t.next)&&(void 0===t.error||r(t.error))&&(null==t.complete||r(t.complete))}var p,a=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._subscribers=[],this._isComplete=!0,this._error=null,this._innerSequence=t}return t.prototype.addEventListener=function(t,e,r,n){var o=document.querySelector(t);if(!o)throw new Error('Could not find any element with selector "'+t+'"');var u=this._createEventListenerFromListener(r);return o.addEventListener(e,u,n),new i(o,e,u)},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;if(this._error)return n._error=this._error,n._complete(),n;for(var o=[],i=0;i<this._innerSequence.length;i++)try{var u=this._executeOperations(this._innerSequence[i],e);if(u.isMustStop()||u.isFilterNotMatched())return n._complete(),n;o.push(u.value)}catch(t){return n._error=t,n._complete(),n}return n._innerSequence=o,n},t.prototype.subscribe=function(t,e,n){var o=this;if(!r(t)&&!c(t))throw new Error("Please provide either a function or a Subscriber");var i=this._createSubscriber(t,e,n);return this._doNext(i),this._doError(i),this._doComplete(i),this._subscribers.push(i),new s((function(){return o._subscribers=o._subscribers.filter((function(t){return t!==i}))}))},t.prototype._triggerOnError=function(){var t=this;this._subscribers.forEach((function(e){return t._doError(e)}))},t.prototype._triggerOnComplete=function(){var t=this;this._subscribers.forEach((function(e){return t._doComplete(e)}))},t.prototype._createSubscriber=function(t,e,n){return r(t)?function(t,e,r){if(!c({next:t,error:e,complete:r}))throw new Error("Please provide functions for onNext, onError and onComplete");return{next:t,error:e,complete:r}}(t,r(e)&&e||void 0,r(n)&&n||void 0):t},t.prototype._doComplete=function(t){this._isComplete&&t.complete&&t.complete()},t.prototype._doError=function(t){this._error&&t.error&&t.error(this._error)},t.prototype._doNext=function(t){this._innerSequence.forEach((function(e){return t.next(e)}))},t.prototype._computeValue=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=new u(t),i=0;i<e.length;i++)switch((n=e[i](n.value)).flag){case o.FilterNotMatched:case o.MustStop:i=e.length;break;case o.UnwrapSwitch:n=new u(n.value._innerSequence.pop())}return n},t.prototype._createEventListenerFromListener=function(t){var e=this;return function(r){e._error||e._innerSequence.forEach((function(e){return t(e,r)}))}},t.prototype._complete=function(){this._isComplete=!0},t.prototype._executeOperations=function(t,e){return this._computeValue.apply(this,function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t}([t],n.apply(void 0,e)))},t}(),h=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),f=function(t){function e(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=t.apply(this,e)||this;return n._forks$=[],n._preProcessOperations=[],n._isComplete=!1,n}return h(e,t),e.prototype.close=function(){this._complete(),this._triggerOnComplete(),this.closeForks()},e.prototype.closeForks=function(){this._forks$.forEach((function(t){t.closeForks(),t._complete(),t._triggerOnComplete()}))},e.prototype.compile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this._isComplete||this._error)return this;var r=this._buildNewSequence(this._innerSequence,t);return this.next.apply(this,r),this},e.prototype.fork=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=new e;return n._preProcessOperations=t,n._error=this._error,this.subscribe((function(t){n.next(t)}),(function(t){n._error=t,n._triggerOnError(),n.close()}),(function(){return n.close()})),this._forks$.push(n),n},e.prototype.next=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._isComplete||this._error||(this._innerSequence=this._buildNewSequence(t,this._preProcessOperations),this._triggerOnNext(this._innerSequence,this._subscribers),this._triggerOnError(),this._triggerOnComplete()),this},e.prototype._buildNewSequence=function(t,e){for(var r=[],n=0;n<t.length;n++)try{var o=this._executeOperations(t[n],e);if(o.isMustStop()){this.close();break}if(o.isFilterNotMatched())break;r.push(o.value)}catch(t){this._error=t,this._triggerOnError(),this.close()}return r},e.prototype._triggerOnNext=function(t,e){t.forEach((function(t){return e.forEach((function(e){return e.next(t)}))}))},e}(a),l=function(t){return function(e){return new u(e,t(e)?void 0:o.FilterNotMatched)}},_=function(t){var e=!1;return function(r){return new u(r,(e=e||l(t)(r).isFilterNotMatched())?o.MustStop:void 0)}},v=function(t){var e=!1;return function(r){return new u(r,(e=e||!l(t)(r).isFilterNotMatched())?o.MustStop:void 0)}},b=function(t){return function(e){return new u(t(e))}};function y(t){return function(e){return new u(t(e),o.UnwrapSwitch)}}var g=e.IR,d=e.y$,w=e.gC,m=e.hX,S=e.UI,O=e.wt,E=e.C4;export{g as MutableObservable,d as Observable,w as asLongAs,m as filter,S as map,O as switchMap,E as until};