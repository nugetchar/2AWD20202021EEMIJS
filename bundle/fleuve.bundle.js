var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{e_:()=>s,hX:()=>o,UI:()=>i});class r{message;stack;name="FilterError";constructor(e="",t){this.message=e,this.stack=t}}class n{elem;eventType;listener;constructor(e,t,r){this.elem=e,this.eventType=t,this.listener=r}unsubscribe=()=>{this.elem?.removeEventListener(this.eventType,this.listener)}}class s{_innerSource;subscribers=[];_parent$;_forkOperations=[];_skipValue=!1;constructor(e){this._innerSource=e}next(...e){const t=e.every((e=>this.isFunction(e))),n=e.every((e=>!this.isFunction(e)));if(!t&&!n)throw new Error("Please provide either only scalar values or only functions");e.forEach((e=>{let t;t=this.isFunction(e)?e(this._innerSource):e;try{this._innerSource=this._forkOperations.reduce(((e,t)=>t(e)),t),this._skipValue=!1,this.subscribers.forEach((e=>e(this._innerSource)))}catch(e){this._skipValue=e instanceof r}}))}subscribe(e){if(!this.isFunction(e))throw new Error("Please provide a function");this.subscribers.push(e),this._skipValue||e(this._innerSource)}pipe(...e){const t=this.filterNonFunctions(...e),n=new s;if(t.length>0)try{const e=t.slice(1).reduce(((e,t)=>t(e)),t[0](this._innerSource));n.next(e)}catch(e){n._skipValue=e instanceof r}return n}fork(...e){const t=new s;return t._parent$=this,t._forkOperations=e,this.subscribe((e=>{t.next(e)})),t}addEventListener(e,t,r,s){const i=document.querySelector(e);if(!i)throw new Error(`Could not find any element with selector "${e}"`);const o=e=>r(this._innerSource,e);return i.addEventListener(t,o,s),new n(i,t,o)}filterNonFunctions(...e){return e.filter((e=>this.isFunction(e)))}isFunction(e){return"function"==typeof e}}const i=function(e){return t=>e(t)},o=function(e){return t=>{if(e(t))return t;throw new r}};var c=t.e_,u=t.hX,h=t.UI;export{c as Fleuve,u as filter,h as map};