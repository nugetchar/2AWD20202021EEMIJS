var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{e_:()=>r,hX:()=>o,UI:()=>s});class n{elem;eventType;listener;constructor(e,t,n){this.elem=e,this.eventType=t,this.listener=n}unsubscribe=()=>{this.elem?.removeEventListener(this.eventType,this.listener)}}class r{_innerSource;subscribers=[];constructor(e){this._innerSource=e}next=(...e)=>{const t=e.every((e=>this.isFunction(e))),n=e.every((e=>!this.isFunction(e)));if(!t&&!n)throw new Error("Please provide either only scalar values or only functions");e.forEach((e=>{this.isFunction(e)?this._innerSource=e(this._innerSource):this._innerSource=e,this.subscribers.forEach((e=>e(this._innerSource)))}))};subscribe=e=>{if(!this.isFunction(e))throw new Error("Please provide a function");this.subscribers.push(e),e(this._innerSource)};pipe=(...e)=>{const t=this.filterNonFunctions(...e),n=new r;if(t.length>0)try{const e=t.slice(1).reduce(((e,t)=>t(e)),t[0](this._innerSource));n.next(e)}catch{}return n};addEventListener=(e,t,r,s)=>{const i=document.querySelector(e);if(!i)throw new Error(`Could not find any element with selector "${e}"`);const o=e=>r(this._innerSource,e);return i.addEventListener(t,o,s),new n(i,t,o)};filterNonFunctions=(...e)=>e.filter((e=>this.isFunction(e)));isFunction=e=>"function"==typeof e}const s=function(e){return t=>e(t)};class i{message;stack;name="FilterError";constructor(e="",t){this.message=e,this.stack=t}}const o=function(e){return t=>{if(e(t))return t;throw new i}};var c=t.e_,u=t.hX,h=t.UI;export{c as Fleuve,u as filter,h as map};