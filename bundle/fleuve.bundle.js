var t={173:function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}c((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Fleuve=void 0;var s=r(883),u=r(245),c=r(939),a=r(321),f=function(){function t(t){this._innerValue=t,this._subscribers=[],this._preProcessOperations=[],this._isStarted=!1,this._isComplete=!1,this._isOperating=!1,this._forks$=[],this._error=null,this._isStarted=arguments.length>0}return t.prototype.addEventListener=function(t,e,r,n){var o=document.querySelector(t);if(!o)throw new Error('Could not find any element with selector "'+t+'"');var i=this._createEventListenerFromListener(r);return o.addEventListener(e,i,n),new c.EventSubscription(o,e,i)},t.prototype.dam=function(){this._forks$.forEach((function(t){t.close(),t._complete(),t._nextComplete()}))},t.prototype.close=function(){this.dam()},t.prototype.fork=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;return n._preProcessOperations=e,this.subscribe((function(t){n._executeOperations(t,n._preProcessOperations).then((function(t){return n.next(t)})).catch((function(t){n._error=!(t instanceof u.FilterError)&&t,n._nextError()}))}),(function(t){return n._error=t}),(function(){return n._complete()})),this._forks$.push(n),n},t.prototype.next=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._isComplete||this._error||(this._isStarted=this._isStarted||arguments.length>0)&&e.forEach((function(e){t._innerValue=e,t._callSubscribers.apply(t,i([e],t._subscribers))})),this},t.prototype.pile=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._isComplete||this._error||this._executeOperations(this._innerValue,e).then((function(e){return t.next(e)})).catch((function(e){t._error=!(e instanceof u.FilterError)&&e,t._nextError()})),this},t.prototype.compile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.pile.apply(this,t)},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;return!this._isStarted||this._error||this._isComplete?(n._complete(),n):(this._executeOperations(this._innerValue,e).then((function(t){return n.next(t)})).catch((function(t){n._error=!(t instanceof u.FilterError)&&t,n._nextError(),n._isComplete=t instanceof u.FilterError,n._nextComplete()})),n)},t.prototype.subscribe=function(t,e,r){var n=this;if(!s.isFunction(t)&&!a.Subscriber.isInstanceOfSubscriber(t))throw new Error("Please provide either a function or a Subscriber");var o=this._createSubscriber(t,e,r);return this._doNext(o),this._doError(o),this._doComplete(o),this._subscribers.push(o),new a.Subscription((function(){return n._subscribers=n._subscribers.filter((function(t){return t!==o}))}))},t.prototype._nextError=function(){var t=this;this._subscribers.forEach((function(e){return t._doError(e)}))},t.prototype._nextComplete=function(){var t=this;this._subscribers.forEach((function(e){return t._doComplete(e)}))},t.prototype._createSubscriber=function(t,e,r){var n=this;return s.isFunction(t)?a.Subscriber.of((function(e){!n._isOperating&&t(e)}),s.isFunction(e)&&e||void 0,s.isFunction(r)&&r||void 0):t},t.prototype._doComplete=function(t){var e;this._isComplete&&t.onComplete(null!==(e=this._error)&&void 0!==e?e:this._innerValue)},t.prototype._doError=function(t){!this._isComplete&&this._error&&t.onError(this._error)},t.prototype._doNext=function(t){!this._isStarted||this._isComplete||this._error||t.onNext(this._innerValue)},t.prototype._callSubscribers=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];e.forEach((function(e){return e.onNext(t)}))},t.prototype._computeValue=function(t){for(var e=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return r.length>0?r.slice(1).reduce((function(t,r){return n(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve(t).then((function(t){return r(t)}))];case 1:return[2,e.sent()]}}))}))}),r[0](t)):t},t.prototype._createEventListenerFromListener=function(t){var e=this;return function(r){e._error||e._isComplete||t(e._innerValue,r)}},t.prototype._complete=function(){this._isComplete=!0},t.prototype._executeOperations=function(t,e){var r=this;this._isOperating=!0;var n=this._computeValue.apply(this,i([t],s.filterNonFunctions.apply(void 0,e)));return Promise.resolve(n).finally((function(){return r._isOperating=!1}))},t}();e.Fleuve=f},883:(t,e)=>{function r(t){return"function"==typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.filterNonFunctions=e.isFunction=void 0,e.isFunction=r,e.filterNonFunctions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return r(t)}))}},465:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(173),e),o(r(236),e)},245:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FilterError=void 0;e.FilterError=function(t){this.stack=t,this.name="FilterError",this.message="Filter predicate was not matched"}},939:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EventSubscription=void 0;e.EventSubscription=function(t,e,r){var n=this;this.elem=t,this.eventType=e,this.listener=r,this.unsubscribe=function(){n.elem.removeEventListener(n.eventType,n.listener)}}},321:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Subscriber=e.Subscription=void 0;var n=r(883),o=function(){function t(t){this._unsubscribeCallback=t}return t.prototype.unsubscribe=function(){this._unsubscribeCallback()},t}();e.Subscription=o;var i=function(){function t(t,e,r){this._onNext=t,this._onError=e,this._onComplete=r}return t.isInstanceOfSubscriber=function(e){return e instanceof t},t.of=function(e,r,o){if(!n.isFunction(e)||r&&!n.isFunction(r)||o&&!n.isFunction(o))throw new Error("Please provide functions for onNext, onError and onComplete");return new t(e,r,o)},t.prototype.onNext=function(t){return this._onNext(t)},t.prototype.onError=function(t){return this._onError&&this._onError(t)},t.prototype.onComplete=function(t){return this._onComplete&&this._onComplete(t)},t}();e.Subscriber=i},997:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=void 0;var n=r(245);e.filter=function(t){return function(e){return new Promise((function(r,o){try{if(!t(e))throw new n.FilterError;r(e)}catch(t){o(t)}}))}}},236:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(400),e),o(r(997),e),o(r(798),e)},400:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0,e.map=function(t){return function(e){return new Promise((function(r,n){try{r(t(e))}catch(t){n(t)}}))}}},798:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMap=void 0,e.switchMap=function(t){return function(e){return t(e),new Promise((function(r,n){try{var o=t(e).subscribe((function(t){r(t),o.unsubscribe()}))}catch(t){n(t)}}))}}}},e={};!function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}(465);