var t={173:function(t,e,r){var n=this&&this.__spreadArray||function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Fleuve=void 0;var o=r(883),i=r(939),s=r(669),u=r(321),c=function(){function t(t){this._innerValue=t,this._subscribers=[],this._preProcessOperations=[],this._isStarted=!1,this._isComplete=!1,this._forks$=[],this._error=null,this._isStarted=arguments.length>0}return t.prototype.addEventListener=function(t,e,r,n){var o=document.querySelector(t);if(!o)throw new Error('Could not find any element with selector "'+t+'"');var s=this._createEventListenerFromListener(r);return o.addEventListener(e,s,n),new i.EventSubscription(o,e,s)},t.prototype.close=function(){this._forks$.forEach((function(t){t.close(),t._complete(),t._nextComplete()}))},t.prototype.fork=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;return n._preProcessOperations=e,this.subscribe((function(t){try{var e=n._executeOperations(t,n._preProcessOperations);if(e.isMustStop())return n._complete(),void n._nextComplete();if(e.isFilterNotMatched())return;n.next(e.value)}catch(t){n._error=t,n._nextError()}}),(function(t){return n._error=t}),(function(){return n._complete()})),this._forks$.push(n),n},t.prototype.next=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._isComplete||this._error||(this._isStarted=this._isStarted||arguments.length>0)&&e.forEach((function(e){t._innerValue=e,t._callSubscribers.apply(t,n([e],t._subscribers))})),this},t.prototype.compile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this._isComplete||this._error)return this;try{var r=this._executeOperations(this._innerValue,t);if(r.isMustStop())return this._complete(),this._nextComplete(),this;if(r.isFilterNotMatched())return this;this.next(r.value)}catch(t){this._error=t,this._nextError()}return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;if(!this._isStarted||this._error||this._isComplete)return n._complete(),n;try{var o=this._executeOperations(this._innerValue,e);if(o.isMustStop()||o.isFilterNotMatched())return n._complete(),n._nextComplete(),n;n.next(o.value)}catch(t){n._error=t}return n},t.prototype.subscribe=function(t,e,r){var n=this;if(!o.isFunction(t)&&!u.Subscriber.isInstanceOfSubscriber(t))throw new Error("Please provide either a function or a Subscriber");var i=this._createSubscriber(t,e,r);return this._doNext(i),this._doError(i),this._doComplete(i),this._subscribers.push(i),new u.Subscription((function(){return n._subscribers=n._subscribers.filter((function(t){return t!==i}))}))},t.prototype._nextError=function(){var t=this;this._subscribers.forEach((function(e){return t._doError(e)}))},t.prototype._nextComplete=function(){var t=this;this._subscribers.forEach((function(e){return t._doComplete(e)}))},t.prototype._createSubscriber=function(t,e,r){return o.isFunction(t)?u.Subscriber.of((function(e){return t(e)}),o.isFunction(e)&&e||void 0,o.isFunction(r)&&r||void 0):t},t.prototype._doComplete=function(t){var e;this._isComplete&&t.onComplete(null!==(e=this._error)&&void 0!==e?e:this._innerValue)},t.prototype._doError=function(t){!this._isComplete&&this._error&&t.onError(this._error)},t.prototype._doNext=function(t){!this._isStarted||this._isComplete||this._error||t.onNext(this._innerValue)},t.prototype._callSubscribers=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];e.forEach((function(e){return e.onNext(t)}))},t.prototype._computeValue=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=new s.OperationResult(t),o=0;o<e.length;o++)switch((n=e[o](n.value)).flag){case s.OperationResultFlag.FilterNotMatched:case s.OperationResultFlag.MustStop:o=e.length;break;case s.OperationResultFlag.UnwrapSwitch:n=new s.OperationResult(n.value._innerValue)}return n},t.prototype._createEventListenerFromListener=function(t){var e=this;return function(r){e._error||e._isComplete||t(e._innerValue,r)}},t.prototype._complete=function(){this._isComplete=!0},t.prototype._executeOperations=function(t,e){return this._computeValue.apply(this,n([t],o.filterNonFunctions.apply(void 0,e)))},t}();e.Fleuve=c},883:(t,e)=>{function r(t){return"function"==typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.filterNonFunctions=e.isFunction=void 0,e.isFunction=r,e.filterNonFunctions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return r(t)}))}},465:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(173),e),o(r(236),e)},939:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EventSubscription=void 0;e.EventSubscription=function(t,e,r){var n=this;this.elem=t,this.eventType=e,this.listener=r,this.unsubscribe=function(){n.elem.removeEventListener(n.eventType,n.listener)}}},669:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OperationResultFlag=e.OperationResult=void 0;var r,n=function(){function t(t,e){this._value=t,this._flag=e}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!1,configurable:!0}),t.prototype.isUnwrapSwitch=function(){return this._flag===r.UnwrapSwitch},t.prototype.isMustStop=function(){return this._flag===r.MustStop},t.prototype.isFilterNotMatched=function(){return this._flag===r.FilterNotMatched},t}();e.OperationResult=n,function(t){t[t.UnwrapSwitch=0]="UnwrapSwitch",t[t.MustStop=1]="MustStop",t[t.FilterNotMatched=2]="FilterNotMatched"}(r=e.OperationResultFlag||(e.OperationResultFlag={}))},321:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Subscriber=e.Subscription=void 0;var n=r(883),o=function(){function t(t){this._unsubscribeCallback=t}return t.prototype.unsubscribe=function(){this._unsubscribeCallback()},t}();e.Subscription=o;var i=function(){function t(t,e,r){this._onNext=t,this._onError=e,this._onComplete=r}return t.isInstanceOfSubscriber=function(e){return e instanceof t},t.of=function(e,r,o){if(!n.isFunction(e)||r&&!n.isFunction(r)||o&&!n.isFunction(o))throw new Error("Please provide functions for onNext, onError and onComplete");return new t(e,r,o)},t.prototype.onNext=function(t){return this._onNext(t)},t.prototype.onError=function(t){return this._onError&&this._onError(t)},t.prototype.onComplete=function(t){return this._onComplete&&this._onComplete(t)},t}();e.Subscriber=i},236:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(829),e),o(r(975),e),o(r(595),e)},975:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=void 0;var n=r(669);e.filter=function(t){return function(e){return new n.OperationResult(e,t(e)?void 0:n.OperationResultFlag.FilterNotMatched)}}},829:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0;var n=r(669);e.map=function(t){return function(e){return new n.OperationResult(t(e))}}},595:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMap=void 0;var n=r(669);e.switchMap=function(t){return function(e){return new n.OperationResult(t(e),n.OperationResultFlag.UnwrapSwitch)}}}},e={};!function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}(465);