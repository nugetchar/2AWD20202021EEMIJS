var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function r(t){return"function"==typeof t}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return r(t)}))}t.d(e,{e_:()=>p,gC:()=>f,hX:()=>h,UI:()=>_,wt:()=>v,C4:()=>l});var o,i=function(t,e,r){var n=this;this.elem=t,this.eventType=e,this.listener=r,this.unsubscribe=function(){n.elem.removeEventListener(n.eventType,n.listener)}},s=function(){function t(t,e){this._value=t,this._flag=e}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!1,configurable:!0}),t.prototype.isUnwrapSwitch=function(){return this._flag===o.UnwrapSwitch},t.prototype.isMustStop=function(){return this._flag===o.MustStop},t.prototype.isFilterNotMatched=function(){return this._flag===o.FilterNotMatched},t}();!function(t){t[t.UnwrapSwitch=0]="UnwrapSwitch",t[t.MustStop=1]="MustStop",t[t.FilterNotMatched=2]="FilterNotMatched"}(o||(o={}));var u=function(){function t(t){this._unsubscribeCallback=t}return t.prototype.unsubscribe=function(){this._unsubscribeCallback()},t}(),c=function(){function t(t,e,r){this._onNext=t,this._onError=e,this._onComplete=r}return t.isInstanceOfSubscriber=function(e){return e instanceof t},t.of=function(e,n,o){if(!r(e)||n&&!r(n)||o&&!r(o))throw new Error("Please provide functions for onNext, onError and onComplete");return new t(e,n,o)},t.prototype.onNext=function(t){return this._onNext(t)},t.prototype.onError=function(t){return this._onError&&this._onError(t)},t.prototype.onComplete=function(t){return this._onComplete&&this._onComplete(t)},t}(),a=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t},p=function(){function t(t){this._innerValue=t,this._subscribers=[],this._preProcessOperations=[],this._isStarted=!1,this._isComplete=!1,this._forks$=[],this._error=null,this._isStarted=arguments.length>0}return t.prototype.addEventListener=function(t,e,r,n){var o=document.querySelector(t);if(!o)throw new Error('Could not find any element with selector "'+t+'"');var s=this._createEventListenerFromListener(r);return o.addEventListener(e,s,n),new i(o,e,s)},t.prototype.close=function(){this._forks$.forEach((function(t){t.close(),t._complete(),t._nextComplete()}))},t.prototype.fork=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;return n._preProcessOperations=e,this.subscribe((function(t){try{var e=n._executeOperations(t,n._preProcessOperations);if(e.isMustStop())return n._complete(),void n._nextComplete();if(e.isFilterNotMatched())return;n.next(e.value)}catch(t){n._error=t,n._nextError()}}),(function(t){return n._error=t}),(function(){return n._complete()})),this._forks$.push(n),n},t.prototype.next=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._isComplete||this._error||(this._isStarted=this._isStarted||arguments.length>0)&&e.forEach((function(e){t._innerValue=e,t._callSubscribers.apply(t,a([e],t._subscribers))})),this},t.prototype.compile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this._isComplete||this._error)return this;try{var r=this._executeOperations(this._innerValue,t);if(r.isMustStop())return this._complete(),this._nextComplete(),this;if(r.isFilterNotMatched())return this;this.next(r.value)}catch(t){this._error=t,this._nextError()}return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;if(!this._isStarted||this._error||this._isComplete)return n._complete(),n;try{var o=this._executeOperations(this._innerValue,e);if(o.isMustStop()||o.isFilterNotMatched())return n._complete(),n._nextComplete(),n;n.next(o.value)}catch(t){n._error=t}return n},t.prototype.subscribe=function(t,e,n){var o=this;if(!r(t)&&!c.isInstanceOfSubscriber(t))throw new Error("Please provide either a function or a Subscriber");var i=this._createSubscriber(t,e,n);return this._doNext(i),this._doError(i),this._doComplete(i),this._subscribers.push(i),new u((function(){return o._subscribers=o._subscribers.filter((function(t){return t!==i}))}))},t.prototype._nextError=function(){var t=this;this._subscribers.forEach((function(e){return t._doError(e)}))},t.prototype._nextComplete=function(){var t=this;this._subscribers.forEach((function(e){return t._doComplete(e)}))},t.prototype._createSubscriber=function(t,e,n){return r(t)?c.of((function(e){return t(e)}),r(e)&&e||void 0,r(n)&&n||void 0):t},t.prototype._doComplete=function(t){var e;this._isComplete&&t.onComplete(null!==(e=this._error)&&void 0!==e?e:this._innerValue)},t.prototype._doError=function(t){!this._isComplete&&this._error&&t.onError(this._error)},t.prototype._doNext=function(t){!this._isStarted||this._isComplete||this._error||t.onNext(this._innerValue)},t.prototype._callSubscribers=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];e.forEach((function(e){return e.onNext(t)}))},t.prototype._computeValue=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=new s(t),i=0;i<e.length;i++)switch((n=e[i](n.value)).flag){case o.FilterNotMatched:case o.MustStop:i=e.length;break;case o.UnwrapSwitch:n=new s(n.value._innerValue)}return n},t.prototype._createEventListenerFromListener=function(t){var e=this;return function(r){e._error||e._isComplete||t(e._innerValue,r)}},t.prototype._complete=function(){this._isComplete=!0},t.prototype._executeOperations=function(t,e){return this._computeValue.apply(this,a([t],n.apply(void 0,e)))},t}(),h=function(t){return function(e){return new s(e,t(e)?void 0:o.FilterNotMatched)}},f=function(t){var e=!1;return function(r){return new s(r,(e=e||h(t)(r).isFilterNotMatched())?o.MustStop:void 0)}},l=function(t){var e=!1;return function(r){return new s(r,(e=e||!h(t)(r).isFilterNotMatched())?o.MustStop:void 0)}},_=function(t){return function(e){return new s(t(e))}};function v(t){return function(e){return new s(t(e),o.UnwrapSwitch)}}var b=e.e_,d=e.gC,m=e.hX,y=e.UI,w=e.wt,C=e.C4;export{b as Fleuve,d as asLongAs,m as filter,y as map,w as switchMap,C as until};