var e={d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{e_:()=>i,hX:()=>o,UI:()=>n});class r{stack;name="FilterError";message="Filter predicate was not matched";constructor(e){this.stack=e}}class s{elem;eventType;listener;constructor(e,t,r){this.elem=e,this.eventType=t,this.listener=r}unsubscribe=()=>{this.elem?.removeEventListener(this.eventType,this.listener)}}class i{_innerValue;_subscribers=[];_preProcessOperations=[];_isStarted=!1;_isComplete=!1;_forks$=[];constructor(e){this._innerValue=e,this._isStarted=arguments.length>0}addEventListener(e,t,r,i){const n=document.querySelector(e);if(!n)throw new Error(`Could not find any element with selector "${e}"`);const o=this._createEventListenerFromListener(r);return n.addEventListener(t,o,i),new s(n,t,o)}dam(){this._forks$.forEach((e=>{e.dam(),e._complete()}))}fork(...e){const t=new i;return t._preProcessOperations=e,this.subscribe((e=>{try{const r=t._computeValue(e,...t._preProcessOperations);t.next(r)}catch(e){if(!(e instanceof r))throw e}})),this._forks$.push(t),t}next(...e){return this._isComplete||(this._isStarted||(this._isStarted=arguments.length>0),this._isStarted&&e.forEach((e=>{this._innerValue=e,this._callSubscribers(e)}))),this}pile(...e){try{const t=this._computeValue(this._innerValue,...this._filterNonFunctions(...e));this.next(t)}catch(e){if(!(e instanceof r))throw e}return this}pipe(...e){const t=new i;if(this._isStarted)try{const r=this._computeValue(this._innerValue,...this._filterNonFunctions(...e));t.next(r)}catch(e){if(!(e instanceof r))throw e}return t}subscribe(e){if(!this._isFunction(e))throw new Error("Please provide a function");this._subscribers.push(e),this._isStarted&&e(this._innerValue)}_filterNonFunctions(...e){return e.filter((e=>this._isFunction(e)))}_isFunction(e){return"function"==typeof e}_callSubscribers(e){this._subscribers.forEach((t=>t(e)))}_computeValue(e,...t){return t.length>0?t.slice(1).reduce(((e,t)=>t(e)),t[0](e)):e}_createEventListenerFromListener(e){return t=>e(this._innerValue,t)}_complete(){this._isComplete=!0}}const n=function(e){return t=>e(t)},o=function(e){return t=>{if(e(t))return t;throw new r}};var c=t.e_,a=t.hX,h=t.UI;export{c as Fleuve,a as filter,h as map};