var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function r(t){return"function"==typeof t}function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return r(t)}))}t.d(e,{e_:()=>h,gC:()=>l,hX:()=>p,UI:()=>_,wt:()=>v,C4:()=>f});var o,i=function(t,e,r){var n=this;this.elem=t,this.eventType=e,this.listener=r,this.unsubscribe=function(){n.elem.removeEventListener(n.eventType,n.listener)}},s=function(){function t(t,e){this._value=t,this._flag=e}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flag",{get:function(){return this._flag},enumerable:!1,configurable:!0}),t.prototype.isUnwrapSwitch=function(){return this._flag===o.UnwrapSwitch},t.prototype.isMustStop=function(){return this._flag===o.MustStop},t.prototype.isFilterNotMatched=function(){return this._flag===o.FilterNotMatched},t}();!function(t){t[t.UnwrapSwitch=0]="UnwrapSwitch",t[t.MustStop=1]="MustStop",t[t.FilterNotMatched=2]="FilterNotMatched"}(o||(o={}));var u=function(){function t(t){this._unsubscribeCallback=t}return t.prototype.unsubscribe=function(){this._unsubscribeCallback()},t}();function c(t){return r(t.next)&&(void 0===t.error||r(t.error))&&(null==t.complete||r(t.complete))}var a=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t},h=function(){function t(t){this._innerValue=t,this._subscribers=[],this._preProcessOperations=[],this._forkPipeline=[],this._isStarted=!1,this._isComplete=!1,this._forks$=[],this._error=null,this._isStarted=arguments.length>0}return t.prototype.addEventListener=function(t,e,r,n){var o=document.querySelector(t);if(!o)throw new Error('Could not find any element with selector "'+t+'"');var s=this._createEventListenerFromListener(r);return o.addEventListener(e,s,n),new i(o,e,s)},t.prototype.close=function(){this._complete(),this.closeForks(),this._nextComplete()},t.prototype.closeForks=function(){this._forks$.forEach((function(t){t.closeForks(),t._complete(),t._nextComplete()}))},t.prototype.compile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this._isFinite||this._isComplete||this._error)return this;try{var r=this._executeOperations(this._innerValue,t);if(r.isMustStop())return this._complete(),this._nextComplete(),this;if(r.isFilterNotMatched())return this;this.next(r.value)}catch(t){this._error=t,this._nextError(),this.close()}return this},t.prototype.fork=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;return n._forkPipeline=e,this.subscribe((function(t){if(!n._error)try{var e=n._executeOperations(t,n._forkPipeline);if(e.isMustStop())return n._complete(),void n._nextComplete();if(e.isFilterNotMatched())return;n.next(e.value)}catch(t){n._error=t,n._nextError()}}),(function(t){n._error=t,n._nextError(),n.close()}),(function(){return n._complete()})),this._forks$.push(n),n},t.prototype.next=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this._isFinite||this._isComplete||this._error||!(this._isStarted=this._isStarted||arguments.length>0))return this;for(var r=0;r<t.length;r++){var n=this._executeOperations(t[r],this._preProcessOperations);if(n.isMustStop()){this._complete(),this._nextComplete();break}if(n.isFilterNotMatched())break;this._innerValue=n.value,this._callSubscribers.apply(this,a([n.value],this._subscribers))}return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new t;if(this._error)return n._error=this._error,n.close(),n;if(!this._isStarted)return n;try{var o=this._executeOperations(this._innerValue,e);if(o.isMustStop()||o.isFilterNotMatched())return n._complete(),n._nextComplete(),n;n.next(o.value)}catch(t){n._error=t}return n},t.prototype.subscribe=function(t,e,n){var o=this;if(!r(t)&&!c(t))throw new Error("Please provide either a function or a Subscriber");var i=this._createSubscriber(t,e,n);return this._doNext(i),this._doError(i),this._doComplete(i),this._subscribers.push(i),new u((function(){return o._subscribers=o._subscribers.filter((function(t){return t!==i}))}))},t.prototype._nextError=function(){var t=this;this._subscribers.forEach((function(e){return t._doError(e)}))},t.prototype._nextComplete=function(){var t=this;this._subscribers.forEach((function(e){return t._doComplete(e)}))},t.prototype._createSubscriber=function(t,e,n){return r(t)?function(t,e,r){if(!c({next:t,error:e,complete:r}))throw new Error("Please provide functions for onNext, onError and onComplete");return{next:t,error:e,complete:r}}(t,r(e)&&e||void 0,r(n)&&n||void 0):t},t.prototype._doComplete=function(t){var e;this._isComplete&&t.complete&&t.complete(null!==(e=this._error)&&void 0!==e?e:this._innerValue)},t.prototype._doError=function(t){this._error&&t.error&&t.error(this._error)},t.prototype._doNext=function(t){this._isStarted&&!this._error&&t.next(this._innerValue)},t.prototype._callSubscribers=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];e.forEach((function(e){return e.next(t)}))},t.prototype._computeValue=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=new s(t),i=0;i<e.length;i++)switch((n=e[i](n.value)).flag){case o.FilterNotMatched:case o.MustStop:i=e.length;break;case o.UnwrapSwitch:n=new s(n.value._innerValue)}return n},t.prototype._createEventListenerFromListener=function(t){var e=this;return function(r){e._error||e._isComplete||t(e._innerValue,r)}},t.prototype._complete=function(){this._isComplete=!0},t.prototype._executeOperations=function(t,e){return this._computeValue.apply(this,a([t],n.apply(void 0,e)))},t}(),p=function(t){return function(e){return new s(e,t(e)?void 0:o.FilterNotMatched)}},l=function(t){var e=!1;return function(r){return new s(r,(e=e||p(t)(r).isFilterNotMatched())?o.MustStop:void 0)}},f=function(t){var e=!1;return function(r){return new s(r,(e=e||!p(t)(r).isFilterNotMatched())?o.MustStop:void 0)}},_=function(t){return function(e){return new s(t(e))}};function v(t){return function(e){return new s(t(e),o.UnwrapSwitch)}}var b=e.e_,d=e.gC,m=e.hX,y=e.UI,w=e.wt,g=e.C4;export{b as Fleuve,d as asLongAs,m as filter,y as map,w as switchMap,g as until};